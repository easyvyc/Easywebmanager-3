<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!--
paypal.html
Written by: Scott Jibben (scott@jibben.com) - 22/02/2007
Developed by Green Media - 11/09/2008
-->
<html>
	<head>
	    <title>PayPal Buy Now Button</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta content="noindex, nofollow" name="robots">
		<script type="text/javascript">

var oEditor = window.parent.InnerDialogLoaded() ;

function OnLoad()
{
	// First of all, translate the dialog box texts.
	oEditor.FCKLanguageManager.TranslatePage( document ) ;
	window.parent.SetAutoSize( true ) ;
}

function btnStat(frm)
{
	if (
		document.getElementById('txtPayPalAcctName').value.length == 0 ||
		document.getElementById('txtPayPalItemCost').value.length == 0 ||
		document.getElementById('txtPayPalItemCurrency').value.length == 0 ||
		document.getElementById('txtPayPalItemNumber').value.length == 0 ||
		document.getElementById('txtPayPalItemDesc').value.length == 0
	) {
		window.parent.SetOkButton( false ) ;
	}
	else {
		window.parent.SetOkButton( true ) ;
	}
}

function Ok()
{
	var strPayPalForm = '<FO' + 'RM target="_paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post">' +
		'<INPUT type="hidden" value="_xclick" name="cmd">' +
		'<INPUT type="hidden" value="txtPayPalAcctName" name="business">' +
		'<INPUT type="hidden" value="txtPayPalItemDesc" name="item_name">' +
		'<INPUT type="hidden" value="txtPayPalItemNumber" name="item_number">' +
		'<INPUT type="hidden" value="txtPayPalItemCost" name="amount">' +
		'<INPUT type="hidden" value="1" name="no_note">' +
		'<INPUT type="hidden" value="txtPayPalItemCurrency" name="currency_code">' +
		'<INPUT type="hidden" value="ES" name="lc">' +
		'<INPUT type="image" alt="Buy Now" src="https://www.paypal.com/en_US/i/btn/x-click-but23.gif" border="0" name="submit">' +
		'</FO' + 'RM>';

	// bail out if any of the fields are empty		
	if (
		document.getElementById('txtPayPalAcctName').value.length == 0 ||
		document.getElementById('txtPayPalItemCost').value.length == 0 ||
		document.getElementById('txtPayPalItemCurrency').value.length == 0 ||
		document.getElementById('txtPayPalItemNumber').value.length == 0 ||
		document.getElementById('txtPayPalItemDesc').value.length == 0
	) {
		return false;
	}
	
	// replace form fields
	strPayPalForm = strPayPalForm.replace('txtPayPalAcctName', document.getElementById('txtPayPalAcctName').value);
	strPayPalForm = strPayPalForm.replace('txtPayPalItemCost', document.getElementById('txtPayPalItemCost').value);
	strPayPalForm = strPayPalForm.replace('txtPayPalItemCurrency', document.getElementById('txtPayPalItemCurrency').value);
	strPayPalForm = strPayPalForm.replace('txtPayPalItemNumber', document.getElementById('txtPayPalItemNumber').value);
	strPayPalForm = strPayPalForm.replace('txtPayPalItemDesc', document.getElementById('txtPayPalItemDesc').value);
	
	// add the form to the content
    oEditor.FCK.InsertHtml(strPayPalForm);
//	oEditor.FCKUndo.SaveUndoStep();
	return true ;
}
		</script>
	</head>
	<body onload="OnLoad()" scroll="no" style="OVERFLOW: hidden">
	
<table id="otable" cellspacing="3" cellpadding="0" width="100%" border="0" style="height: 100%">
  <tr>
    <td nowrap="nowrap">
    	<label for="txtPayPalAcctName" fckLang="DlgPayPalAcctNameLbl">PayPal Email Address:</label>&nbsp;
   	</td>
  </tr>
  <tr>
    <td>
		<input id="txtPayPalAcctName" onkeyup="btnStat(this.form)" style="width: 250px" length="50" maxlength="255" tabIndex="1" type="text" />
    </td>
  </tr>
  <tr>
    <td>
      <table cellspacing="0" cellpadding="0" border="0">
        <tr>
          <td>
			<label for="txtPayPalItemCost" fckLang="DlgPayPalItemCostLbl">Item Cost:</label>          
          </td>
          <td width="15">&nbsp;</td>
          <td>
			<label for="txtPayPalCurrency" fckLang="DlgPayPalCurrencyLbl">Currency:</label>
          </td>
          <td width="15">&nbsp;</td>
          <td>
			<label for="txtPayPalItemNumber" fckLang="DlgPayPalItemNumberLbl">Item Number:</label>
          </td>
        </tr>
        <tr>
          <td>
            <input id="txtPayPalItemCost" onkeyup="btnStat(this.form)" style="width: 80px" tabIndex="2" type="text" />
          </td>
          <td></td>
          <td>
            <select id="txtPayPalItemCurrency" onkeyup="btnStat(this.form)" style="width: 90px" tabIndex="3">
                <option value="EUR" />Euros
                <option value="GBP" />GB Pounds
                <option value="USD" />US Dollars
            </select>            
          </td>
          <td></td>
          <td>
            <input id="txtPayPalItemNumber" onkeyup="btnStat(this.form)" style="width: 90px" length="50" maxlength="255" tabIndex="4" type="text" />
          </td>
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <td><label for="txtPayPalItemDesc" fckLang="DlgPayPalItemDescLbl">Item Description:</label></td>
  </tr>
  <tr>
    <td><input id="txtPayPalItemDesc" onkeyup="btnStat(this.form)" style="width: 250px" length="50" maxlength="255" tabIndex="5" type="text" /></td>
  </tr>
</table>
	
	</body>
</html>

